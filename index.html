<!DOCTYPE html>
<html>
<head>
  <title>Chat App</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <script src="/socket.io/socket.io.js"></script> </head>
<body class="bg-gray-100 min-h-screen flex flex-col items-center justify-center">

  <h1 class="text-3xl font-bold text-gray-800 mb-4">Chat App</h1>

  <div id="messages" class="w-96 h-64 overflow-y-auto border border-gray-300 p-4 mb-4"></div>

  <input type="text" id="messageInput" class="border border-gray-300 p-2 w-96 mb-2" placeholder="Type your message...">
  <button id="sendButton" class="bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded">Send</button>


  <script>
    const socket = io(); // Connect to the server

    const messagesDiv = document.getElementById('messages');
    const messageInput = document.getElementById('messageInput');
    const sendButton = document.getElementById('sendButton');

    sendButton.addEventListener('click', () => {
      const message = messageInput.value;
      if (message.trim() !== '') {  // Don't send empty messages
        socket.emit('chat message', message); // Send to server
        messageInput.value = ''; // Clear input field
      }
    });

    socket.on('chat message', (msg) => {
      const messageElement = document.createElement('p');
      messageElement.textContent = msg;
      messagesDiv.appendChild(messageElement);
      messagesDiv.scrollTop = messagesDiv.scrollHeight; // Auto-scroll
    });
  </script>

</body>
</html>
